# Acontext
Acontext is the agent memory stack for production AI Agents

## NAVIGATION GUIDE
- Python SDK: `src/client/acontext-py/`
- TypeScript SDK: `src/client/acontext-ts/`
- CLI Tool: `src/client/acontext-cli/`
- API: `src/server/api/`
- CORE: `src/server/core/`
- DASHBOARD: `src/server/ui/`
- Landing Page: `landingpage`
- Documentation: `docs/`

## Plan-driven Development
- You must make a markdown plan at plans/ before you implement any my request, otherwise I will reject your implementation.
- Remember to update the dev plan after you finish coding.
- When every task is completed, make sure you check the task checkbox in the corresponding plan.
- A plan should at least contain `features`/`show case`, `designs overview`, `TODOS`, `new deps`, `test cases` sections.
  - always use the features/show case to present what you're going to build.
  - use checklist in `TODOS` section, for each checkbox, you must have a clear descripion of what to do and list all the files that will be modified.
  - in `new deps` section, you must list all the new external dependencies that will be added.
  - in `test cases` section, use checklist format to list all the test cases that should be covered.

## MODULES
- API is the main module that handles the API requests and responses to Acontext, SDKs are the client-side modules that interact with the API. 
- CLI tool is a command-line tool that helps you deploy Acontext locally and download examples
- CORE contains the session buffer, task extraction, embedding, agent... anything involving AI/LLM/Agent in it.
- API and CORE are connected by message queue.
- API: Go + Gin + GORM/PostgreSQL + Redis + RabbitMQ + S3 + OpenTelemetry + Swagger
- CORE: Python + FastAPI + SQLAlchemy/PostgreSQL + pgvector + Redis + RabbitMQ + S3 + OpenAI/Anthropic + OpenTelemetry

## RULES
### Confirm API Schemas before actually implementing them
When you're asked to implement new api endpoints, always lay out the api schema first to let user confirm the input and output are correct.
### Update SDKs after modifying API if necessary
When your task is about modify API, always look for the revelant SDKs and see it should be updated.
- Make sure you update both sync and async sdk in python if updated.
### Find Document after modifying SDKs
- When your task is about implement/update SDKs at `src/client`, always look for the revelant documents in /docs and see it should be updated.
- For any doc update in /docs, make sure you read AGENTS-DOC.md.
- DON't update openapi.json, or swagger.json/yaml. those are artifacts generated by programs, no need to manually edit them. But if they'are changed, that's fine cause they're auto-generated.
### Sync ORMs between API and CORE
Both API and CORE have their ORMs, which should be synced. CORE uses SQLAlchemy, API uses GORM.
### SDK Version Bump & Tagging
When releasing a new version of an SDK, follow these steps in order:
1. **Bump the version number** in the package manifest:
   - TypeScript SDK: update `"version"` in `src/client/acontext-ts/package.json`
   - Python SDK: update `version` in `src/client/acontext-py/pyproject.toml`
2. **Regenerate the lock file** so it stays in sync:
   - TypeScript SDK: run `npm install` in `src/client/acontext-ts/` (updates `package-lock.json`)
   - Python SDK: run `uv lock` in `src/client/acontext-py/` (updates `uv.lock`)
3. **Commit** the version bump + lock file changes.
4. **Tag** the commit using the convention `sdk-ts/vX.Y.Z` or `sdk-py/vX.Y.Z`.
### Unit Test
- Always delete the new project you created in the same test
