---
title: Sandbox
description: "Execute code in isolated environments"
---

Sandbox provides secure, isolated containers for executing shell commands.

<Card title="Agentic Sandbox Tools" icon="terminal" href="/tool/bash_tools">
Give your agent command execution with pre-built tools.
</Card>

## Quick Start

<Steps>
<Step title="Create a sandbox">
<CodeGroup>
```python Python
import os
from acontext import AcontextClient

client = AcontextClient(api_key=os.getenv("ACONTEXT_API_KEY"))
sandbox = client.sandboxes.create()
```

```typescript TypeScript
import { AcontextClient } from '@acontext/acontext';

const client = new AcontextClient({
    apiKey: process.env.ACONTEXT_API_KEY,
});
const sandbox = await client.sandboxes.create();
```
</CodeGroup>
</Step>

<Step title="Execute commands">
<CodeGroup>
```python Python
result = client.sandboxes.exec_command(
    sandbox_id=sandbox.sandbox_id,
    command="echo 'Hello!' && python3 --version"
)
print(f"stdout: {result.stdout}")
print(f"exit_code: {result.exit_code}")
```

```typescript TypeScript
const result = await client.sandboxes.execCommand({
    sandboxId: sandbox.sandbox_id,
    command: "echo 'Hello!' && python3 --version",
});
console.log(`stdout: ${result.stdout}`);
console.log(`exit_code: ${result.exit_code}`);
```
</CodeGroup>
</Step>

<Step title="Kill sandbox">
<CodeGroup>
```python Python
client.sandboxes.kill(sandbox.sandbox_id)
```

```typescript TypeScript
await client.sandboxes.kill(sandbox.sandbox_id);
```
</CodeGroup>
</Step>
</Steps>

## Disk Integration

Transfer files between disk and sandbox:

<Steps>
<Step title="Setup">
<CodeGroup>
```python Python
from acontext import FileUpload

disk = client.disks.create()
sandbox = client.sandboxes.create()

# Upload file to disk
client.disks.artifacts.upsert(
    disk.id,
    file=FileUpload(filename="input.txt", content=b"Line 1\nLine 2"),
    file_path="/input/"
)
```

```typescript TypeScript
import { FileUpload } from '@acontext/acontext';

const disk = await client.disks.create();
const sandbox = await client.sandboxes.create();

// Upload file to disk
await client.disks.artifacts.upsert(disk.id, {
    file: new FileUpload({
        filename: "input.txt",
        content: Buffer.from("Line 1\nLine 2"),
    }),
    filePath: "/input/",
});
```
</CodeGroup>
</Step>

<Step title="Download to sandbox">
<CodeGroup>
```python Python
client.disks.artifacts.download_to_sandbox(
    disk_id=disk.id,
    file_path="/input/",
    filename="input.txt",
    sandbox_id=sandbox.sandbox_id,
    sandbox_path="/workspace/"
)
```

```typescript TypeScript
await client.disks.artifacts.downloadToSandbox(disk.id, {
    filePath: "/input/",
    filename: "input.txt",
    sandboxId: sandbox.sandbox_id,
    sandboxPath: "/workspace/",
});
```
</CodeGroup>
</Step>

<Step title="Process in sandbox">
<CodeGroup>
```python Python
client.sandboxes.exec_command(
    sandbox_id=sandbox.sandbox_id,
    command="wc -l /workspace/input.txt > /workspace/output.txt"
)
```

```typescript TypeScript
await client.sandboxes.execCommand({
    sandboxId: sandbox.sandbox_id,
    command: "wc -l /workspace/input.txt > /workspace/output.txt",
});
```
</CodeGroup>
</Step>

<Step title="Upload result to disk">
<CodeGroup>
```python Python
client.disks.artifacts.upload_from_sandbox(
    disk_id=disk.id,
    sandbox_id=sandbox.sandbox_id,
    sandbox_path="/workspace/",
    sandbox_filename="output.txt",
    file_path="/output/"
)
```

```typescript TypeScript
await client.disks.artifacts.uploadFromSandbox(disk.id, {
    sandboxId: sandbox.sandbox_id,
    sandboxPath: "/workspace/",
    sandboxFilename: "output.txt",
    filePath: "/output/",
});
```
</CodeGroup>
</Step>

<Step title="Clean up">
<CodeGroup>
```python Python
client.sandboxes.kill(sandbox.sandbox_id)
# Disk persists after sandbox is killed
```

```typescript TypeScript
await client.sandboxes.kill(sandbox.sandbox_id);
// Disk persists after sandbox is killed
```
</CodeGroup>
</Step>
</Steps>

## CLI Setup

```bash
acontext sandbox start
```

Creates and starts a Cloudflare Sandbox Worker in `sandbox/cloudflare`.

## Next Steps

<CardGroup cols={2}>
<Card title="Disk" icon="hard-drive" href="/store/disk">
Persistent file storage
</Card>
<Card title="Bash Tools" icon="terminal" href="/tool/bash_tools">
Agent sandbox tools
</Card>
</CardGroup>
