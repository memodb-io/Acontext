---
title: Multi-provider Messages
description: "Store and retrieve messages from OpenAI, Anthropic, and Gemini formats"
---

Acontext stores messages in OpenAI, Anthropic, or Gemini format and automatically converts between them on retrieval.

## Store Messages

<Steps>
<Step title="Create a session">
```python
import os
from acontext import AcontextClient

client = AcontextClient(
    api_key=os.getenv("ACONTEXT_API_KEY"),
)
session = client.sessions.create()
```
</Step>

<Step title="Store messages in any format">

<Tabs>
<Tab title="OpenAI">
```python
client.sessions.store_message(
    session_id=session.id,
    blob={"role": "user", "content": "What is the capital of France?"},
    format="openai"
)
```
</Tab>

<Tab title="Anthropic">
```python
client.sessions.store_message(
    session_id=session.id,
    blob={
        "role": "user",
        "content": [{"type": "text", "text": "Explain quantum computing"}]
    },
    format="anthropic"
)
```
</Tab>

<Tab title="Gemini">
```python
client.sessions.store_message(
    session_id=session.id,
    blob={
        "role": "user",
        "parts": [{"text": "Explain quantum computing"}]
    },
    format="gemini"
)
```
</Tab>
</Tabs>
</Step>
</Steps>

## Retrieve Messages

Retrieve in any formatâ€”Acontext converts automatically:

```python
# Stored as OpenAI, retrieve as Anthropic
result = client.sessions.get_messages(session_id=session.id, format="anthropic")

for msg in result.items:
    print(f"{msg.role}: {msg.content}")
```

## Delete Session

```python
client.sessions.delete(session_id)
```

<Warning>
Deleting a session permanently removes all messages.
</Warning>

## Next Steps

<CardGroup cols={2}>
<Card title="Filter by Configs" icon="filter" href="/store/messages/filter-by-configs">
Query sessions using metadata filters
</Card>
<Card title="Multi-modal Messages" icon="image" href="/store/messages/multi-modal">
Store images, audio, and documents
</Card>
</CardGroup>
