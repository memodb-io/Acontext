# Documentation Plan: Learning Space & Self-Learning Skills

## Features / Showcase

Acontext's **Learning Space** lets agents automatically learn from past sessions. Your agent gets smarter over time — no manual curation. Developers create a space, point sessions at it, and Acontext handles the rest.

**After reading the docs, a developer can:**
- Create a learning space and connect it to their agent (3 min)
- See what skills look like after learning happens (mock examples)
- Know how to check learning status and read learned skills

---

## Design Overview

### Current Doc Gaps

| What exists | What's missing |
|---|---|
| `learn/learning-space.mdx` — CRUD steps only | No intro explaining *why* or *what you get*. Jumps straight into code. |
| `learn/learning-space.mdx` — `.learn()` returns "pending" | No explanation of what happens next or what the output looks like |
| `store/skill.mdx` — manual upload only | No mention that skills can be auto-generated by learning |
| No mock examples of learned skill content | Dev has no idea what the agent actually produces |

### Proposed Changes (single page)

```
docs/learn/
└── self-learning.mdx     ← Single page: end-to-end guide + full API reference (merged from learning-space.mdx)
```

**Why 1 page:**
- `learning-space.mdx` was deleted — its unique content (include/exclude skills, list/filter/paginate, update, delete) was merged into `self-learning.mdx`
- One page is simpler: the guide flow (create → attach → run → inspect) comes first, then API operations below
- Internal pipeline details (distillation stages, Redis locks, agent tools) belong in code comments, not user docs. A one-liner hint is enough.

### Style Rules

- **3-minute test**: page readable in ~3 minutes
- Lead with a running scenario before any code
- Use **one running mock scenario**: an agent that helps deploy APIs
- Show **mock skill file output** so devs know exactly what to expect
- Mintlify components: `<Steps>`, `<CodeGroup>`, `<Note>`, `<Accordion>`, `<CardGroup>`

---

## TODOs

### 1. ~~Rewrite `learn/learning-space.mdx`~~ (DELETED — merged into self-learning.mdx)

### 2. `learn/self-learning.mdx` — Single merged page
- [x] Write a step-by-step guide using a **running example** (e.g. a deploy-assistant agent)
  - **Step 1: Create a learning space** — quick (reuse from learning-space.mdx, shorter)
  - **Step 2: Run your agent, then learn** — create a session normally, run the agent, then call `.learn()` to associate the session with the space
  - **Step 3: Check learning status** — `.list_sessions()` → status goes from `pending` → `running` → `completed`
  - **Step 5: Inspect learned skills** — `.list_skills()` → `.get_file()` to read what was learned. Show mock output of a real skill file that was updated.
- [x] Add a `<Note>` box: "Under the hood" (2 sentences max)
  - "Acontext uses a two-stage process: first it distills the task outcome into a structured summary, then an AI agent updates the relevant skill files. Each learning space is processed sequentially to avoid conflicts."
- [x] Add a section "Custom Skills" (brief):
  - You can add your own skill templates with `include_skill()`
  - Skills follow the SKILL.md format (link to `store/skill`)
  - The learner will update your custom skills too
- [x] Add section "Default Skills" (brief with mock output):
  - `daily-logs`: daily file per day with task summaries
  - `user-general-facts`: topic files with user preferences
  - Accordion with mock file content for each
- **Files:** `docs/learn/self-learning.mdx` (new)

### 3. Update `docs.json` navigation
- [x] Single page `learn/self-learning` in the "Self-learning" group (learning-space removed)
- **Files:** `docs/docs.json`

### 4. Add backlinks from related pages

Only add links where they feel natural — not every page needs one.

**High priority (directly related):**
- [x] `store/skill.mdx` — Add `<Note>` after intro: "Skills can also be auto-generated by the self-learning pipeline. See [Self-Learning Guide](/learn/self-learning)."
- [x] `engineering/agent_skills.mdx` — Add card in "Next Steps": Self-Learning → `/learn/self-learning`
- [x] `observe/agent_tasks.mdx` — Add card in "Next Steps": Self-Learning → `/learn/self-learning` (task outcomes trigger learning)
- [x] `quick.mdx` — Add card in "Next steps": Self-Learning → `/learn/self-learning`

**Medium priority (useful context):**
- [x] `engineering/session_summary.mdx` — Add card in "Next Steps": Self-Learning → `/learn/learning-space`
- [x] `tool/skill_tools.mdx` — Add card in "Next Steps": Self-Learning → `/learn/self-learning`

**Medium-low priority (update existing page):**
- [x] `store/per-user.mdx` — Add Learning Spaces to the "Supported Resources" table and add code examples for create/list with `user`. Add card in "Next Steps" → `/learn/learning-space`

**Skip (too tangential):**
- `llm_quick.mdx`, `disk.mdx`, `settings/core.mdx`, `settings/runtime.mdx`, `observe/buffer.mdx`, `observe/disable_tasks.mdx`, `tool/whatis.mdx`, `index.mdx`

- **Files:** `docs/store/skill.mdx`, `docs/engineering/agent_skills.mdx`, `docs/observe/agent_tasks.mdx`, `docs/quick.mdx`, `docs/engineering/session_summary.mdx`, `docs/tool/skill_tools.mdx`, `docs/store/per-user.mdx`

---

## New Dependencies

None. Documentation only.

---

## Test Cases

- [ ] Both `.mdx` pages render without errors in Mintlify dev server
- [x] All internal links resolve correctly
- [x] Navigation shows both pages under "Self-learning"
- [x] Mock examples are consistent across pages (same scenario/names)
- [x] Each page passes the 3-minute read test
- [x] Python and TypeScript examples both present in code groups
- [x] Backlinks from 7 related pages all resolve to valid targets
- [x] No existing "Next Steps" card groups break after adding new cards

---

## Page Drafts

### Draft: `learning-space.mdx` (updated)

```
---
title: Learning Space
description: "Your agent learns from every session — automatically"
---

A learning space watches your agent's sessions and builds reusable skills from 
successes and failures. Create one, point sessions at it, and your agent gets 
smarter over time.

When you create a learning space, it comes with two default skills:

| Skill | What it captures |
|-------|-----------------|
| **daily-logs** | Daily activity summaries — one file per day |
| **user-general-facts** | User preferences and facts — one file per topic |

<Accordion title="Example: what a learned daily-log looks like">
```markdown
# 2025-06-15

## [14:30] Task: Deploy API v2 to staging
- **Outcome**: success
- **Summary**: Blue-green deploy completed, zero downtime
- **Key Decisions**: Ran DB migration before switching traffic
- **Learnings**: Set health-check timeout to 30s, not 10s
```
</Accordion>

<Accordion title="Example: what learned user-facts look like">
```markdown
# Coding Preferences

- Prefers Python 3.11+ with type hints
- Uses pytest, not unittest
- Wants concise docstrings
```
</Accordion>

[... existing <Steps> for Create / Include Skills / Learn / List / Update+Delete ...]

(In the "Learn from sessions" step, add:)
<Note>
After calling `.learn()`, Acontext processes the session in the background — 
it reads task outcomes, extracts patterns, and updates skills automatically. 
Track progress with `.list_sessions()`.
</Note>

## Next Steps
<CardGroup cols={3}>
<Card title="Self-Learning Guide" icon="brain" href="/learn/self-learning">
  End-to-end walkthrough
</Card>
<Card title="Agent Skills" icon="sparkles" href="/store/skill">
  Upload and manage skills
</Card>
<Card title="Per-User Resources" icon="user" href="/store/per-user">
  Organize by user
</Card>
</CardGroup>
```

### Draft: `self-learning.mdx` (new)

```
---
title: Self-Learning Guide
description: "Make your agent learn from every task — step by step"
---

This guide walks through connecting an agent to a learning space so it 
automatically learns from task outcomes.

**Scenario**: You have a deploy-assistant agent. You want it to remember 
what worked and what didn't across sessions.

<Steps>
<Step title="Create a learning space">
<CodeGroup>
```python Python
space = client.learning_spaces.create(
    user="alice@example.com",
    meta={"domain": "deployments"},
)
# Two default skills (daily-logs, user-general-facts) are created automatically
```
```typescript TypeScript
const space = await client.learningSpaces.create({
    user: "alice@example.com",
    meta: { domain: "deployments" },
});
```
</CodeGroup>
</Step>

<Step title="Connect a session">
Associate your agent session with the learning space:
<CodeGroup>
```python Python
session = client.sessions.create(
    learning_space_id=space.id,
    enable_skill_learning=True,
)
# Run your agent with this session...
```
```typescript TypeScript
const session = await client.sessions.create({
    learningSpaceId: space.id,
    enableSkillLearning: true,
});
```
</CodeGroup>
</Step>

<Step title="Tasks finish → learning happens">
When a task in the session finishes (success or failure), Acontext 
automatically processes it in the background. No extra API call needed.

Check the status:
<CodeGroup>
```python Python
sessions = client.learning_spaces.list_sessions(space.id)
for s in sessions:
    print(f"Session {s.session_id}: {s.status}")
    # pending → running → completed
```
```typescript TypeScript
const sessions = await client.learningSpaces.listSessions(space.id);
sessions.forEach(s => {
    console.log(`Session ${s.session_id}: ${s.status}`);
});
```
</CodeGroup>
</Step>

<Step title="Inspect what was learned">
Read the skills to see what the agent recorded:
<CodeGroup>
```python Python
skills = client.learning_spaces.list_skills(space.id)
for skill in skills:
    print(f"{skill.name}: {skill.description}")
    # Read a specific file
    content = client.skills.get_file(skill.id, "SKILL.md")
    print(content.content.raw)
```
```typescript TypeScript
const skills = await client.learningSpaces.listSkills(space.id);
for (const skill of skills) {
    const content = await client.skills.getFile({
        skillId: skill.id,
        filePath: "SKILL.md",
    });
    console.log(content.content?.raw);
}
```
</CodeGroup>
</Step>
</Steps>

<Note>
**Under the hood:** Acontext first distills each task outcome into a structured 
summary, then an AI agent decides which skill files to update or create. 
Each learning space is processed sequentially to avoid conflicts.
</Note>

## Adding Custom Skills

You can include your own skills alongside the defaults:

```python
# Upload a skill ZIP, then include it
skill = client.skills.create(file=FileUpload(...))
client.learning_spaces.include_skill(space.id, skill_id=skill.id)
```

The learner will update your custom skills too — as long as they have 
a valid `SKILL.md` with instructions.

See [Agent Skills](/store/skill) for the SKILL.md format and ZIP structure.

## Next Steps
<CardGroup cols={2}>
<Card title="Learning Space API" icon="database" href="/learn/learning-space">
  Full API reference
</Card>
<Card title="Agent Skills" icon="sparkles" href="/store/skill">
  Create and upload skills
</Card>
</CardGroup>
```
